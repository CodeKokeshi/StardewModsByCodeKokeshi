1.4.0
=== MAJOR: Complete Follow System Rewrite ===
- FIXED: Pet stuttering and left-right flickering completely eliminated! Movement is now buttery smooth.
- FIXED: Pets no longer get stuck on tiny obstacles or spam direction changes.
- FIXED: Vanilla pet behavior no longer interferes with mod-controlled movement.
- FIXED: Pets won't randomly fall asleep or sit down while following you.

=== Movement System Overhaul ===
- NEW: Completely rewritten movement system with smooth velocity-based acceleration using Vector2.Lerp.
- NEW: Direction locking with hysteresis - pet must move significantly in a new direction for 8+ ticks before changing facing direction (eliminates flickering).
- NEW: Intelligent obstacle avoidance tries multiple angles (30°, 45°, 60°) then slides along walls smoothly.
- NEW: Proper state machine (Idle → FollowingPlayer → Foraging) prevents state conflicts.
- IMPROVED: Follow distances rebalanced - stops at 1.5 tiles, starts following at 3 tiles (more natural spacing).
- IMPROVED: Speed scaling based on distance - pets sprint when far (8+ tiles), jog when mid-range (5+ tiles), walk normally when close.
- IMPROVED: Stuck detection simplified - warps to player after 3 seconds of no progress instead of complex wall-passing.

=== Foraging Priority System ===
- CHANGED: **Foraging now takes ABSOLUTE priority** - when the cat finds forageable items, it completely ignores the player and collects them first.
- IMPROVED: Unreachable forage tracking prevents pets from repeatedly targeting items they can't reach.
- IMPROVED: Forage scanning optimized with 15-tick intervals and walkability verification.
- IMPROVED: Pets scan for next forageable immediately after picking one up (smooth chaining).
- NEW: 10-tile leash distance - pets won't chase forageables that are too far from the player.

=== Harmony Patches for Stability ===
- NEW: RunState_Prefix patch completely suppresses vanilla pet AI when following or working (prevents movement interference).
- NEW: BehaviorOnFarmerLocationEntry_Prefix patch prevents vanilla code from randomly making pets sleep while following.
- IMPROVED: Pets are forced out of sleep/sit behaviors when follow mode activates.
- IMPROVED: Vanilla PathFindController is cleared to prevent conflicts.

=== User Experience ===
- FIXED: Pet command menu no longer hijacks normal pet interaction - hold LeftShift while interacting with your pet to open the command menu.
- IMPROVED: Follow mode update order changed - following now processes BEFORE resting checks (pets follow even if sleepy).
- IMPROVED: State reset system properly clears velocity, direction locks, and targets when toggling follow mode.
- IMPROVED: Overnight scavenging now happens regardless of pet state (Working/Following/Idle).
- NEW: Added i18n support (English default) for pet menu and key HUD messages.

=== Technical Improvements ===
- Added tunable constants for easy adjustment: follow distances, speeds, lock timers, stuck thresholds.
- Removed unused/obsolete code from old movement system.
- Better null safety and guard clauses throughout follow logic.
- Comprehensive comments and documentation for future maintenance.

1.3.1
- Fixed bug where SMAPI console window would flash repeatedly after naming a new pet during the adoption cutscene.
- Pets now use vanilla interaction behavior during events, cutscenes, and when menus/dialogues are active to prevent conflicts.

1.3.0
=== Follow Mode - Now Fully Functional! ===
- MAJOR: Follow mode upgraded from experimental to fully functional!
- CHANGED: "Follow Outside Farm" is now enabled by default - pets will follow you everywhere!
- NEW: Pets now forage while following you! They automatically pick up forageable items (berries, mushrooms, spring onions, etc.) nearby and store them in their inventory.
- NEW: HUD notification appears whenever your pet picks up a forageable item showing what they found.
- NEW: "No work to do" notification when your pet can't find any debris, trees, or boulders to clear.
- IMPROVED: Stuck pet detection now uses ultra-fast speed to bypass obstacles instead of awkward teleporting.
- IMPROVED: Pets smoothly accelerate through walls when stuck, then slow back down once clear - no more jarring warps!
- IMPROVED: Message changed from "too far away" to "not on the same area" for clarity when pets are in different locations.
- Added "Forage While Following" config option (enabled by default) to toggle pet foraging behavior.
- Fast mode automatically deactivates when pet reaches player or makes good progress.

=== Whistle & Menu System ===
- Whistle keybind system! Press V (default, configurable) to open/close pet selection menu.
- NEW: Whistle Key is now configurable directly in Generic Mod Config Menu! No more editing config.json manually.
- Whistle menu features full-body pet sprites (like Animals page), scrolling for many pets, and clear status indicators.
- Menu shows pet name, current status (Idle/Working/Following), and disables pets already following or in different areas.
- Pet tracking arrows now display pet icons next to them (separated, larger scale, biased toward center).

=== Quality of Life ===
- Pets in follow mode are now passable - you can walk through them to get through doors easily.
- Pets automatically exit resting/sleeping state when you change locations while following.
- Trees at ALL growth stages (0-5) can now be removed by working pets, including seeds (stage 0).
- Small trees (stages 0-4) use appropriate twig effects instead of full tree chopping effects.
- Fixed stuck loop counter not accumulating properly after warps.
- Removed "(Experimental)" label from Follow Outside Farm option - the feature is now stable!

1.2.0
- Multi-pet support! Each pet now works independently (Pet Licenses compatible).
- Target reservation system prevents pets from targeting the same debris.
- Collision avoidance keeps pets from stacking on each other.
- Pets now pause and stop moving when you talk to them.
- After 3 failed warp attempts, pets destroy target remotely (fixes infinite stuck loops).
- Trees at all growth stages (1-5) can now be removed, not just fully grown ones.

1.1.0
- Added proper destruction visuals/FX/SFX when pets clear debris/wood/stone (no more silent disappearing).
- Adjusted wood-related destruction to use a consistent twig-style particle/poof effect.
- Fixed cases where pets could get stuck while doing work by adding a warp fallback near the target.
- Improved follow behavior with catch-up speed scaling and a stuck warp fallback near the player.
